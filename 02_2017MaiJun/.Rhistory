colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\\\\\*", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
texto = discurso
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
View(discursos)
decode_rtf(discursos$Discurso[2])
decode_rtf(discursos$Discurso[3])
decode_rtf(discursos$Discurso[4000])
decode_rtf(discursos$Discurso[14000])
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- NULL
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
ano <- 2004
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\\\\\*", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
gsub(NULL, "", discurso)
gsub("", "", discurso)
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
ano <- 2004
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\\\\\*", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
decode_rtf(discursos$Discurso[14000])
decode_rtf(discursos$Discurso[15000])
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
ano <- 2005
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\\\\\*", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
ano <- 2005
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\\\\\*", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
str_retirar(discurso)
discurso
gsub("\\\\", "", discurso)
gsub("*", "", discurso)
discurso
gsub("*", "", discurso)
gsub("\\*", "", discurso)
discurso <- gsub("\\*", "", discurso)
discurso
discurso
discurso <- gsub("\\\\", "", discurso)
discurso
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
ano <- 2005
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
ano <- 2006
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
decode_rtf(discursos$Discurso[5805]
)
decode_rtf(discursos$Discurso[5806])
decode_rtf(discursos$Discurso[5805])
discursos2 <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos2) <- c("AnoSeq", "DataHora", "Discurso")
discursos2$Discursos[5805]
!is.na(discursos$Discurso[5805])
is.na(discursos$Discurso[5805])
is.na(discursos2$Discurso[5805])
is.na(discursos2$Discurso[5805])
discursos2$Discurso[5805]
discursos$Discurso[5805]
decode_rtf(discursos$Discurso[5805])
decode_rtf(discursos2$Discurso[5805])
discursos2$Discurso[5805]
discursos$Discurso[i] != NULL
!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != NULL)
!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != NULL)
(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != NULL))
!is.na(discursos$Discurso[5805]) & (discursos$Discurso[5805] != NULL)
!is.na(discursos$Discurso[5805])
(discursos$Discurso[5805] != NULL)
? is.null
!is.null(discursos$Discurso[5805])
!is.na(discursos$Discurso[5805]) & !is.null(discursos$Discurso[5805])
is.null(discursos$Discurso[5805])
discursos$Discurso[5805]
!is.na(discursos$Discurso[5805]) & (discursos$Discurso[5805] != "")
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[5805]) & (discursos$Discurso[5805] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[5805]) & (discursos$Discurso[5805] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
for(ano in 2007:2017)
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
# grava o último bloco de linhas no arquivo
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
print(ano)
}
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
for(ano in 2007:2017){
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
if(substr(discurso,1,1) == '{'){
print(discurso)
}
}
}
# grava o último bloco de linhas no arquivo
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
print(ano)
}
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
for(ano in 2010:2017){
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i])){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
#for(i in 1:nrow(discursos)){
#  if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
#    discurso <- decode_rtf(discursos$Discurso[i])
#    if(substr(discurso,1,1) == '{'){
#      print(discurso)
#    }
#  }
#}
# grava o último bloco de linhas no arquivo
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
print(ano)
}
discursos$Discurso[2549]
source("05_EncodeDecode.R")
str_retirar <- function(texto){
texto <- substr(texto, 1, 100)
loc <- str_locate_all(texto, '\\}')[[1]]
retirar <- ""
if(nrow(loc) > 0){
retirar <- substr(texto, 1, loc[nrow(loc), ncol(loc)])
loc <- str_locate_all(retirar, '\\{')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
loc <- str_locate_all(retirar, '\\}')[[1]]
for(l in 1:nrow(loc)){
retirar <- paste0(substr(retirar, 1, loc[l, 1]-1), '\\',
substr(retirar, loc[l, 1], str_length(retirar)))
loc <- loc + 1
}
}
retirar
}
for(ano in 2017){
arquivo <- paste0("..\\..\\Dados\\discurso_", ano,"_dit.csv")
discursos <- read.csv2(arquivo, sep=";", header = FALSE, colClasses = "character")
colnames(discursos) <- c("AnoSeq", "DataHora", "Discurso")
# retirar informações de formatação do texto como
# exemplo: "\\{\\{ MS Sans Serif;\\}\\{ Symbol;\\}\\{ MS Sans Serif;\\}\\{ Arial;\\}\\}\\{;\\}"
for(i in 1:nrow(discursos)){
if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
discurso <- decode_rtf(discursos$Discurso[i])
discurso <- gsub("\\*", "", discurso)
discurso <- gsub("\\\\", "", discurso)
discurso <- gsub('\"', "'", discurso)
discurso <- gsub(str_retirar(discurso), "", discurso)
discursos$Discurso[i] <- encode_rtf(discurso)
}
}
#for(i in 1:nrow(discursos)){
#  if(!is.na(discursos$Discurso[i]) & (discursos$Discurso[i] != "")){
#    discurso <- decode_rtf(discursos$Discurso[i])
#    if(substr(discurso,1,1) == '{'){
#      print(discurso)
#    }
#  }
#}
# grava o último bloco de linhas no arquivo
write.table(x=discursos, sep=";",
file=arquivo,
row.names=FALSE)
print(ano)
}
